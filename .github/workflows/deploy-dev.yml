name: Deploy (dev)

on:
  push:
    branches: [main]
  workflow_dispatch:
    inputs:
      message:
        description: "Optional note for this deployment"
        required: false
        default: "manual dev deploy"

concurrency:
  group: deploy-dev
  cancel-in-progress: true

jobs:
  deploy:
    name: Faux deploy to dev
    runs-on: ubuntu-latest
    environment:
      name: dev
      url: https://example.invalid/dev
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Fake build
        run: |
          echo "Building commit: $GITHUB_SHA"
          echo "Branch/ref: $GITHUB_REF"

      - name: Fake deploy
        run: |
          echo "Deploying to DEV..."
          echo "message='${{ inputs.message }}'"
          echo "done"
